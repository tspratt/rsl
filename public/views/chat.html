<div class="full-height-view chat-view">
	<div class="flex-v-container">
		<div class="flex-v-header chat-msg-header">
			<div class="msg-search-bar">
				<input id="inputMatchString" type="text" class="match-string chat-msg-search"
							 placeholder="Search in messages for..."
							 ng-model="vm.matchString">
				<input type="text" readonly class="month-picker"
							 uib-datepicker-popup="MMM-yyyy"
							 ng-model="vm.dtFrom" is-open="vm.monthPickOpen"
							 ng-model-options="{ debounce: 300 }"
							 popup-placement="bottom-right"
							 datepicker-mode="'month'"
							 datepicker-options="dateOptions"
							 close-text="Close"/>
				<span>
				<button type="button" class="btn btn-default"
								ng-click="vm.monthPickOpen=!vm.monthPickOpen">
				<i class="glyphicon glyphicon-calendar"></i></button>
			</span>
			</div>

		</div>
		<div class="flex-v-content chat-msg-list">
			<div class="row-chat-msg"
					 ng-repeat="message in chatMessagesDisplay"
					 ng-class="{read: message.read}"
					 ng-style="{'font-size':vm.msgFontSize + 'px'}"
					 scroll-to-last
					 when-visible="markAsRead">
				<div class="col-chat-msg">
					{{message.msg}}
				</div>
				<div class="col-msg-info">
					{{message.dt | date:'HH:mm'}} {{message.person.firstname}}<br>
					{{message.dt | date:'MMM-dd'}}
				</div>
			</div>
		</div>
		<div class="flex-v-footer chat-msg-footer">
			<form role="form" novalidate name="form">
				<div class="form-group">
					<textarea id="chatMsgInput" class="chat-msg"
										required
										ng-model="vm.chatMsgSend"
										focus-me="vm.focusInput"></textarea>
					<br>
					<div style="float: left">
						<label>Font:</label><br>
						<div rn-stepper ng-model="vm.msgFontSize" min="10" max="20"></div>
					</div>

					<button class="chat-msg"
									ng-enable="vm.chatMsgSend.length>0"
									ng-click="sendChatMessage()">SEND
					</button>
				</div>
			</form>
		</div>

	</div>

</div>